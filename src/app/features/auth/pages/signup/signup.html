<div class="auth-form">
    <div class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-gray-900">Sign Up</h1>
        <p class="text-gray-600 text-sm mt-2">Create your account</p>
    </div>
    @if (signupForm) {
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="space-y-5">

        <!-- Added to extra dummy field to stop browser auto porefield -->
        <input type="text" name="username" class="sr-only" />
        <input type="password" name="password" class="sr-only" />

        @let nameControl=signupForm.controls.name;
        <app-form-fields [fieldConfig]="{label: 'Name'}" [dynamicFormControl]="nameControl"
            [hasClickedSubmit]="hasClickedSubmit()">
            <input type="text" [formControl]="nameControl" class="u-form-field" [placeholder]="'Enter name'" name="name"
                appSanitizeInput />
        </app-form-fields>

        @let usernameControl=signupForm.controls.username;
        <app-form-fields [fieldConfig]="{label: 'Username'}" [dynamicFormControl]="usernameControl"
            [hasClickedSubmit]="hasClickedSubmit()"
            [text]="{pendingText: 'Checking username availability', validText: 'Username is available'}">
            <input type="text" [formControl]="usernameControl" class="u-form-field lowercase" [placeholder]="'Enter username'"
                name="username" appSanitizeInput [noSpaceAllow]="true" />
        </app-form-fields>

        @let passwordControl=signupForm.controls.password;
        <app-form-fields [fieldConfig]="{label: 'Password'}" [dynamicFormControl]="passwordControl"
            [hasClickedSubmit]="hasClickedSubmit()">
            <input type="password" [formControl]="passwordControl" class="u-form-field" name="password"
                [placeholder]="'Enter password'" appSanitizeInput [noSpaceAllow]="true" />
        </app-form-fields>

        <app-loading-button [loading]="isSubmitting()" class="mt-6">
            <button type="submit" class="u-gradient-btn w-full">
                Sign Up
            </button>
        </app-loading-button>

        <div class="text-center mt-6">
            <p class="text-gray-600 text-sm">Already have an account?
                <a routerLink="/auth/login" class="text-blue-600 hover:text-blue-700 font-semibold">
                    Login
                </a>
            </p>
        </div>
    </form>
    }
</div>
